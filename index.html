<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Unkrautbek√§mpfung</title>
  <style>
    #game-board {
      position: relative;
      width: 400px;
      height: 400px;
      background-color: brown;
    }

    .weed {
      background-color: green;
      position: absolute;
      width: 50px;
      height: 50px;
    }
  </style>
</head>
<body>
  <div id="game-board"></div>

  <script>
    window.addEventListener('DOMContentLoaded', function () {
      var gameBoard = document.getElementById('game-board');
      var boardWidth = gameBoard.offsetWidth;
      var boardHeight = gameBoard.offsetHeight;

      // Erzeuge Unkraut-Elemente
      for (var i = 0; i < 10; i++) {
        createWeed();
      }

      function createWeed() {
        var weed = document.createElement('div');
        weed.classList.add('weed');
        gameBoard.appendChild(weed);

        var randomX = Math.floor(Math.random() * (boardWidth - 50));
        var randomY = Math.floor(Math.random() * (boardHeight - 50));
        weed.style.left = randomX + 'px';
        weed.style.top = randomY + 'px';
      }

      var touchStartX, touchStartY;

      gameBoard.addEventListener('touchstart', handleTouchStart, false);
      gameBoard.addEventListener('touchmove', handleTouchMove, false);

      function handleTouchStart(event) {
        touchStartX = event.touches[0].clientX;
        touchStartY = event.touches[0].clientY;
      }

      function handleTouchMove(event) {
        var touchEndX = event.touches[0].clientX;
        var touchEndY = event.touches[0].clientY;

        var swipeDirection = getSwipeDirection(touchStartX, touchStartY, touchEndX, touchEndY);

        if (swipeDirection === 'down') {
          removeWeeds(touchEndX, touchEndY);
        }
      }

      function getSwipeDirection(startX, startY, endX, endY) {
        var dx = endX - startX;
        var dy = endY - startY;
        var angle = Math.atan2(dy, dx) * (180 / Math.PI);

        if (angle >= -45 && angle <= 45) {
          return 'right';
        } else if (angle >= 45 && angle <= 135) {
          return 'up';
        } else if (angle >= -135 && angle <= -45) {
          return 'down';
        } else {
          return 'left';
        }
      }

      function removeWeeds(x, y) {
        var weeds = document.getElementsByClassName('weed');

        for (var i = 0; i < weeds.length; i++) {
          var weed = weeds[i];
          var rect = weed.getBoundingClientRect();

          if (x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom) {
            gameBoard.removeChild(weed);
          }
        }
      }
    });
  </script>
</body>
</html>

